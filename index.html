<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>数独ソルバー</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
</head>
<body>

    <h1>数独自動ソルバー</h1>
    <div id="sudoku-grid" class="grid-container">
        <script>
            const grid = document.getElementById('sudoku-grid');
            for (let i = 0; i < 81; i++){
                const input = document.createElement('input');
                input.type = 'text';
                input.inputMode = 'numeric';
                input.maxLength = 1;
                input.id = `cell-${i}`;
                input.autocomplete = "off";

                input.oninput = function(){
                    this.value = this.value.replace(/[^1-9]/g, '');
                };

                const row = Math.floor(i / 9);
                const col = i % 9;

                if (col === 2 || col === 5){
                    input.classList.add('border-right-bold')
                }

                if (row === 2 || row === 5){
                    input.classList.add('border-bottom-bold');
                }

                grid.appendChild(input);
            }
        </script>
    </div>

    <div class="controls">  
        <button py-click="solve_sudoku" class="btn">Solve</button>
        <button onclick="location.reload()" class="btn reset">Reset</button>
    </div>
    
    <p id="message"></p>

    <script type="py" src="./main.py"></script>

</body>
</html>